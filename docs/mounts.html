<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/assets/styles.css">
    <link rel="stylesheet" href="/assets/syntax.css">
  </head>
  <body class="page">
    <nav>
      <h1><a href="/">Unwalled.Garden</a></h1>
      <ul>
    <li>Docs
      <ul>
        <li><a href="/docs/how-does-it-work">How it works</a></li>
        <li><a href="/docs/mission">Mission</a></li>
        <li><a href="/docs/dat-primer">Dat protocol</a><ul>
          <li><a href="/docs/metadata">Metadata</a></li>
          <li><a href="/docs/mounts">Mounts</a></li>
        </ul></li>
        <li><a href="/docs/why-not-rdf">Why not RDF?</a></li>
        <!-- <li><a href="/docs/examples/one">Example 1</a></li> -->
      </ul>
    </li>
  </ul>
<ul>
  <li>APIs
    <ul>
      <li><a href="/docs/api/bookmarks">Bookmarks</a></li>
      <li><a href="/docs/api/follows">Follows</a></li>
      <li><a href="/docs/api/posts">Posts</a></li>
      <li><a href="/docs/api/profiles">Profiles</a></li>
      <li><a href="/docs/api/reactions">Reactions</a></li>
      <li><a href="/docs/api/search">Search</a></li>
    </ul>
  </li>
</ul>
<ul>
  <li>Schemas
    <ul>
      <li><a href="/bookmark">Bookmark</a></li>
      <li><a href="/comment">Comment</a></li>
      <li><a href="/follows">Follows</a></li>
      <li><a href="/person">Person</a></li>
      <li><a href="/post">Post</a></li>
      <li><a href="/reaction">Reaction</a></li>
      <li>dir/<ul>
        <li><a href="/dir/data">Data</a></li>
        <li><a href="/dir/refs">Refs</a></li>
      </ul></li>
    </ul>
  </li>
</ul>
<ul>
  <li>Links
    <ul>
      <li><a href="https://github.com/beakerbrowser/unwalled.garden">Github Repo</a></li>
      <li><a href="https://beakerbrowser.com">Beaker Browser</a></li>
      <li><a href="https://dat.foundation">Dat protocol</a></li>
    </ul>
  </li>
</ul>
    </nav>
    <main><h2>Dat Mounts</h2><div class="notice">Status: DRAFT. Part of the upcoming <a href="https://beakerbrowser.com">Beaker Browser</a> 0.9 release.</div>
<p>Dat has the ability to “mount” dats into each other as subfolders. This is similar to a symlink.</p>
<p>Bob could, for instance, mount the Unwalled.Garden site to his own site:</p>
<pre><code>dat://bob.com/sites/ug -&gt; dat://unwalled.garden/
</code></pre>
<p>Reading from a mounted folder is similar to reading a subfolder. Reading <code>/sites/ug/index.html</code> from Bob’s site would give you the content of <code>dat://unwalled.garden/index.html</code>.</p>
<p>Mounts have a performance benefit in Dat: because mount data can be transfered over an existing connection, it can be faster to read than loading the dat separately. We use that property to distribute metadata efficiently in the <a href="/dir/refs">refs directory</a>.</p>
<pre><code>URL                                                  | Type
-------------------------------------------------------------------------------
dat://bob.com/.refs                                  | unwalled.garden/refs-dir
dat://bob.com/.refs/alice.com -&gt; dat://alice.com     | unwalled.garden/person
dat://bob.com/.refs/carla.com -&gt; dat://carla.com     | unwalled.garden/person
</code></pre>
<p>A reader uses the <code>.refs</code> folder to lookup information about sites which are referenced in JSON records. A common example is listing “followed” users’ profiles: after fetching the <a href="/follows">follows file</a>, a reader can iterate through the sites in <code>.refs</code> to fetch their names, bios, and pictures.</p>
</main>
  </body>
  <script type="module" src="/assets/admin.js"></script>
</html>
